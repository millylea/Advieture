{% extends "app_travel/.base.html" %}
{% load static %}
{% load humanize %}
{% block title_tab %} Trang Chủ {% endblock %}

{% block main_content %}




<!-- Carousel Start -->
<div class="container-fluid p-0">
    <div id="header-carousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img class="w-100" style="height:500px" src="{% static 'app_travel/img/background-1.jpg' %}"
                    alt="Image">
                <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                    <div class="p-3" style="max-width: 900px;">
                        <h4 class="text-white text-uppercase mb-md-3">Tours & Travel</h4>
                        <h1 class="display-3 text-white mb-md-4">Khám Phá Việt Nam</h1>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <img class="w-100" style="height:500px" src="{% static 'app_travel/img/background-2.jpg' %}"
                    alt="Image">
                <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                    <div class="p-3" style="max-width: 900px;">
                        <h4 class="text-white text-uppercase mb-md-3">Trải Nghiệm</h4>
                        <h2 class="display-3 text-white mb-md-4">Những Chuyến Đi</h2>

                    </div>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#header-carousel" data-slide="prev">
            <div class="btn btn-dark" style="width: 45px; height: 45px;">
                <span class="carousel-control-prev-icon mb-n2"></span>
            </div>
        </a>
        <a class="carousel-control-next" href="#header-carousel" data-slide="next">
            <div class="btn btn-dark" style="width: 45px; height: 45px;">
                <span class="carousel-control-next-icon mb-n2"></span>
            </div>
        </a>
    </div>
</div>
<!-- Carousel End -->


<!-- Booking Start -->
<div class="container-fluid booking mt-5 pb-5">
    <div class="container pb-5">
        <div class="bg-light shadow" style="padding: 30px;">
            <div class="row align-items-center" style="min-height: 60px;">
                <div class="col-md-9">
                    <form class="row" method="get" action="{% url 'app_travel:search' %}" id="tourform">
                        <div class="col-md-3">
                            <div class="mb-3 mb-md-0">
                                <select class="custom-select px-4" name="departure_id" id="departure_id" form="tourform"
                                    style="height: 47px;">
                                    <option value="">Khởi Hành Từ</option>
                                    {% for departure_location in departures %}
                                        <option value="{{departure_location.id}}"
                                            {% if departure_location.id == departure_id %}
                                                selected
                                            {% endif %}>
                                            {{departure_location}}
                                        </option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3 mb-md-0">
                                <select class="custom-select px-4" name="category_id" id="category_id" form="tourform"
                                    style="height: 47px;">
                                    <option value="">Nơi Đến</option>
                                    {% for category in categories %}
                                    <option value="{{category.id}}"
                                        {% if category.id == category_id %}
                                        selected
                                        {% endif %}>
                                        {{category}}
                                    </option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3 mb-md-0">
                                <div class="date" data-target-input="nearest">
                                    <input type="text" id="departure_date" name="departure_date"
                                        class="form-control p-4" placeholder="Depart Date" data-target="#date1"
                                        data-toggle="datetimepicker" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-primary btn-block" type="submit"
                                style="height: 47px; margin-top: -2px;">Tìm
                                Kiếm</button>
                        </div>

                    </form>
                </div>
                <div class="col-md-3">
                    <form class="input-group" method="get" action="{% url 'app_travel:search' %}">
                        <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search"
                            aria-describedby="search-addon" name="keyword" autocomplete="off" value="" />
                        <button type="submit" class="btn btn-primary" data-mdb-ripple-init>
                            <small><i class="fas fa-search" aria-hidden="true"></i></small>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Booking End -->
<!-- category -->
<div class="container mb-5" style="height:350px">
    <div class="row">
        <div class="category_box">
            <div class="row">
                {% for category in categories %}
                <div class="box">
                    <a href="{% url 'app_travel:tours_list' category.pk %}"><img src="{{category.image.url}}"></a>
                    <div class="category-name" style="color:darkslategray;font-size:25px;">

                        {{category.name}}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<!-- Promotion Start -->
<div class="container-fluid py-5" style="margin-top:100px">
    <div class="text-center mb-3 pb-3">
        <h3 class="text-primary text-uppercase">Ưu Đãi</h3>
    </div>
    <div class="owl-carousel testimonial-carousel">
        {% for promotion in promotions %}
        <div class="text-center pb-3">
            <img class="img-fluid mx-auto" src="{{promotion.image.url}}" style="width: 400px; height: 200px;">
        </div>
        {% endfor %}
    </div>
</div>
<!-- Destination Start -->

<!-- Packages Start -->
<div class="container-fluid py-5">
    <div class="container pt-2 pb-3">
        <div class="text-center mb-3 pb-3">
            <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">trải nghiệm</h6>
            <h1>Tour Phổ Biến</h1>
        </div>
        <div class="row">
            {% for tour in popular_tours %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="package-item bg-white mb-2">
                    <a href="{% url 'app_travel:tour_detail' tour.pk %}"><img class="img-fluid" src="{{tour.image.url}}"
                            alt="{{tour.name}}"></a>
                    <div class="p-4">
                        <div class="d-flex justify-content-between mb-3">
                            <small class="m-0"><i
                                    class="fa fa-map-marker-alt text-primary mr-2"></i>{{tour.category.name|truncatechars:30}}</small>
                            <small class="m-0"><i class="fa fa-calendar-alt text-primary mr-2"></i>{{tour.days}}</small>
                            <small class="m-0"><i class="fa fa-user text-primary mr-2"></i>1</small>
                        </div>
                        <a class="h5 text-decoration-none"
                            href="{% url 'app_travel:tour_detail' tour.pk %}">{{tour.name|truncatewords:18}}</a>
                        <div class="border-top mt-4 pt-4">
                            <div class="d-flex justify-content-between">
                                <h6 class="m-0"><i class="fa fa-star text-primary mr-2"></i>{{tour.booked}} <small>
                                        người đã đặt</small></h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}

        </div>
    </div>
</div>
<!-- Packages End -->

<!-- Affordable -->
<div class="container-fluid">
    <div class="text-center mb-3 pb-3">
        <h3 class="text-primary text-uppercase">Tour Giá Hời</h3>
    </div>
    {% for tour in affordable_tours %}
    <div class="card" style="height:250px;margin-left:50px;margin-right:50px">
        <div class="row no-gutters">
            <div class="col-lg-3 col-12 tour_image ">
                <a href="{% url 'app_travel:tour_detail' tour.pk %}"><img src="{{tour.image.url}}" class="card-img"
                        alt="{{tour.name}}"></a>
            </div>

            <div class="col-lg-6">
                <div class="card-body">
                    <a href="{% url 'app_travel:tours_list' tour.category_id %}"><button class="affordable-category">
                            <spand class="text-light">{{tour.category.name}}</spand>
                        </button></a>

                    <div class="affordable-name"><a class=" text-decoration-none"
                            href="{% url 'app_travel:tour_detail' tour.pk %}">{{tour.name}}</a></div>
                    <p class="card-text"><small class="text-muted"><i
                                class="fa fa-calendar-alt text-primary mr-2"></i>{{tour.days}}</small></p>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="card-body">
                    
                    
                    <div class="affordable-price-title">Giá chỉ từ </div>
                    <div class="affordable-price">{{tour.price|floatformat:0|intcomma}}<span>đ</span></div>
                    <div class="booking-button"><a href="{% url 'app_booking:tour_booking' tour.pk %}"><button class="btn" type="submit" name="btnBookNow" value="Đặt Ngay"> Đặt Ngay</button></a></div>
                    
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>




<!-- Feature Start -->
<div class="container-fluid pb-5">
    <div class="container pb-5" style="margin-top:50px; height:20px">
        <div class="text-center mb-3 pb-3">
            <h2 class="text-primary text-uppercase" style="letter-spacing: 5px;">
            <span class="text-dark">Ad</span>Vieture</h2>
        </div>  
        <div class="row mb-5">
            <div class="col-md-4">
                <div class="d-flex mb-4 mb-lg-0">
                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3"
                        style="height: 50px; width: 100px;">
                        <i class="fa fa-2x fa-money-check-alt text-white"></i>
                    </div>
                    <div class="d-flex flex-column">
                        
                        <div style="font-weight: bold;font-size:20px"> Giá Tốt</div> 
                        
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="d-flex mb-4 mb-lg-0">
                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3"
                        style="height: 50px; width: 100px;">
                        <i class="fa fa-2x fa-award text-white"></i>
                    </div>
                    <div class="d-flex flex-column">
                        <div style="font-weight: bold;font-size:20px"> Dịch Vụ Chất Lượng</div>
                       
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="d-flex mb-4 mb-lg-0">
                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3"
                        style="height: 50px; width: 100px;">
                        <i class="fa fa-2x fa-globe text-white"></i>
                    </div>
                    <div class="d-flex flex-column">
                        <div style="font-weight: bold;font-size:20px"> Đa Dạng Tour</div>
                       
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Feature End -->






{% endblock %}